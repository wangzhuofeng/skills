---
name: idea-triage
description: 按用户指定时间段整理Obsidian随机想法笔记，筛选文件名含时间戳或YAML时间字段（如“建立时间/创建时间/Time Created”）的笔记，提取可成知识卡片的内容并调用知识卡片生成技能，同时识别人物并调用人物链接技能。
---

# Idea Triage

## 目标

在用户指定时间段内，整理“无框架随机想法”笔记，输出：
- 需要自动生成知识卡片的内容
- 需要补人物链接/新建人物笔记的内容

## 时间段与筛选

1. 若用户未指定时间段，先追问（如：今天/本周/过去30天/自定义起止日期）。
2. 以本地时区解析时间。
3. 选取候选文件：
   - 文件名以日期/时间戳开头：
     - `YYYYMMDDHHmm-`（分钟级时间戳）
     - 或 `YYYYMMDD-`（仅日期）
   - YAML frontmatter 中含 `建立时间`、`建立日期`、`创建时间`、`Time Created`、`Created` 等字段。
4. 仅处理落入时间段的文件，忽略附件与非文本文件。

## 处理流程

1. 逐条阅读候选笔记内容，保留原文结构。
2. 识别“可写成知识卡片”的片段：定义、原则、模型、可迁移的方法、对概念的清晰转述、带解释的引用。
3. 识别“人物”信息：具体人名或明显指代（不含泛指群体）。
4. 对每个片段执行：
   - 需要卡片：调用 `knowledge-card-writer` 技能。
   - 需要人物：调用 `person-note-linker` 技能。

## 输出与改动规则

- 对原始笔记只做必要改动：添加人物链接与标记，不改写用户原文。
- 原始笔记一旦完成自动处理，在 YAML 的 `categories` 中追加 `[[AI已处理]]`。
- 生成的知识卡片在 YAML 中加入 `类型: 自动生成`。
- 若一个笔记包含多个卡片或人物，分条处理。
- 遇到歧义（人名重名、概念不清晰）先向用户确认再改动。
